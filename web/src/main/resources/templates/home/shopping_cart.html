<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml"
	xmlns:th="http://www.thymeleaf.org">
<head>
<title>Shopping Cart</title>
<link th:href="@{vendor/bootstrap-4.1/bootstrap.min.css}"
	rel="stylesheet" media="all">
<link
	th:href="@{vendor/bootstrap-progressbar/bootstrap-progressbar-3.3.4.min.css}"
	rel="stylesheet" media="all">
<link th:href="@{css/theme.css}" rel="stylesheet" media="all">
<link th:href="@{css/cart.css}" rel="stylesheet" media="all">
<body>
	<div class="page-wrapper">
		<header style="background-color: white;"
			class="header-mobile d-block d-lg-none">
			<div class="header-mobile__bar">
				<div class="container-fluid">
					<div class="header-mobile-inner">
						<a class="logo" href="index.html"> <img
							src="images/logo/Screenshot_18.png">
						</a>
						<button class="hamburger hamburger--slider" type="button">
							<span class="hamburger-box"> <span class="hamburger-inner"></span>
							</span>
						</button>
					</div>
				</div>
			</div>
			<nav class="navbar-mobile">
				<div class="container-fluid">
					<ul class="navbar-mobile__list list-unstyled">
						<li><a href="/home" class="links" style=""><img
								style="height: 40px; width: 40px;" width="800" height="800"
								src="images/logo/home.png"><span
								style="position: relative; top: 5px; left: 15px; font-size: 17px;">Home</span></a></li>
						<li><a href="/choose_helper" class="links" style=""><img
								style="height: 40px; width: 40px;" width="800" height="800"
								src="images/logo/trainer.jpg"><span
								style="position: relative; top: 5px; left: 15px; font-size: 17px;">Alege
									Experti</span></a></li>
						<li><a href="/choose_plan" class="links" style=""><img
								style="height: 40px; width: 40px;" width="800" height="800"
								src="images/logo/strategy.png"><span
								style="position: relative; top: 5px; left: 15px; font-size: 17px;">Alege
									Planuri</span></a></li>
						<li><a href="/choose_device" class="links" style=""><img
								style="height: 40px; width: 40px;" width="800" height="800"
								src="images/logo/smartwatch2.png"><span
								style="position: relative; top: 5px; left: 15px; font-size: 17px;">Alege
									Dispozitive</span></a></li>
						<li><a href="/shopping_cart" class="links" style=""><img
								style="height: 40px; width: 40px;" width="800" height="800"
								src="images/logo/supermarket.png"><span
								style="position: relative; top: 5px; left: 15px; font-size: 17px;">Cos
									Cumparaturi</span></a></li>
						<li><a href="/view_user_plans" class="links" style=""><img
								style="height: 40px; width: 40px;" width="800" height="800"
								src="images/logo/fitness-plan.jpg"><span
								style="position: relative; top: 5px; left: 15px; font-size: 17px;">Planuri
									Cumparate</span></a></li>
						<li><a href="/view_user_devices" class="links" style=""><img
								style="height: 40px; width: 40px;" width="800" height="800"
								src="images/logo/smartwatch3.png"><span
								style="position: relative; top: 5px; left: 15px; font-size: 17px;">Dispozitive
									Cumparate</span></a></li>
						<li><a href="/foods_eaten" class="links" style=""><img
								style="height: 40px; width: 40px;" width="800" height="800"
								src="images/logo/popsicle.png"><span
								style="position: relative; top: 5px; left: 15px; font-size: 17px;">Alimente
									Consumate</span></a></li>
						<li><a href="/exercises_done" class="links" style=""><img
								style="height: 40px; width: 40px;" width="800" height="800"
								src="images/logo/exercise.png"><span
								style="position: relative; top: 5px; left: 15px; font-size: 17px;">Exercitii
									Efectuate</span></a></li>
						<li><a href="/logout" class="links" style=""><img
								style="height: 40px; width: 40px;" width="800" height="800"
								src="images/logo/logout.png"><span
								style="position: relative; top: 5px; left: 15px; font-size: 17px;">Logout</span></a></li>
					</ul>
				</div>
			</nav>
		</header>
		<aside style="background-color: white;"
			class="menu-sidebar d-none d-lg-block">
			<div class="logo">
				<a href="#"> <img src="images/logo/Screenshot_18.png">
				</a>
			</div>
			<div class="menu-sidebar__content js-scrollbar1">
				<nav class="navbar-sidebar">
					<ul class="list-unstyled navbar__list" style="padding-left: 0px;">
						<li><a href="/home" class="links" style=""><img
								style="height: 40px; width: 40px;" width="800" height="800"
								src="images/logo/home.png"><span
								style="position: relative; top: 5px; left: 15px; font-size: 17px;">Home</span></a></li>
						<li><a href="/choose_helper" class="links" style=""><img
								style="height: 40px; width: 40px;" width="800" height="800"
								src="images/logo/trainer.jpg"><span
								style="position: relative; top: 5px; left: 15px; font-size: 17px;">Alege
									Experti</span></a></li>
						<li><a href="/choose_plan" class="links" style=""><img
								style="height: 40px; width: 40px;" width="800" height="800"
								src="images/logo/strategy.png"><span
								style="position: relative; top: 5px; left: 15px; font-size: 17px;">Alege
									Planuri</span></a></li>
						<li><a href="/choose_device" class="links" style=""><img
								style="height: 40px; width: 40px;" width="800" height="800"
								src="images/logo/smartwatch2.png"><span
								style="position: relative; top: 5px; left: 15px; font-size: 17px;">Alege
									Dispozitive</span></a></li>
						<li><a href="/shopping_cart" class="links" style=""><img
								style="height: 40px; width: 40px;" width="800" height="800"
								src="images/logo/supermarket.png"><span
								style="position: relative; top: 5px; left: 15px; font-size: 17px;">Cos
									Cumparaturi</span></a></li>
						<li><a href="/view_user_plans" class="links" style=""><img
								style="height: 40px; width: 40px;" width="800" height="800"
								src="images/logo/fitness-plan.jpg"><span
								style="position: relative; top: 5px; left: 15px; font-size: 17px;">Planuri
									Cumparate</span></a></li>
						<li><a href="/view_user_devices" class="links" style=""><img
								style="height: 40px; width: 40px;" width="800" height="800"
								src="images/logo/smartwatch3.png"><span
								style="position: relative; top: 5px; left: 15px; font-size: 17px;">Dispozitive
									Cumparate</span></a></li>
						<li><a href="/foods_eaten" class="links" style=""><img
								style="height: 40px; width: 40px;" width="800" height="800"
								src="images/logo/popsicle.png"><span
								style="position: relative; top: 5px; left: 15px; font-size: 17px;">Alimente
									Consumate</span></a></li>
						<li><a href="/exercises_done" class="links" style=""><img
								style="height: 40px; width: 40px;" width="800" height="800"
								src="images/logo/exercise.png"><span
								style="position: relative; top: 5px; left: 15px; font-size: 17px;">Exercitii
									Efectuate</span></a></li>
						<li><a href="/logout" class="links" style=""><img
								style="height: 40px; width: 40px;" width="800" height="800"
								src="images/logo/logout.png"><span
								style="position: relative; top: 5px; left: 15px; font-size: 17px;">Logout</span></a></li>
					</ul>
				</nav>
			</div>
		</aside>
		<div class="page-container">
			<div class="main-content">
				<div class="section__content section__content--p30">
					<div class="alert" th:if="${succesDeleteProduct}">
						<div
							style="float: left; position: absolute; left: 50%; top: 50%; transform: translate(-50%, -50%); width: 250px;">
							<h5 style="font-weight: 900; font-size: 20px; color: green;">Succes</h5>
							<p style="font-size: 15px; color: black; margin-top: 5px;">Ai
								sters produsul din cos</p>
						</div>
						<div style="float: right; display: none;">
							<span class="closebtn"
								onclick="this.parentElement.style.display='none';">×</span>
						</div>
					</div>
					<div class="alert" th:if="${insufficientBalance}">
						<div
							style="float: left; position: absolute; left: 50%; top: 50%; transform: translate(-50%, -50%); width: 250px;">
							<h5 style="font-weight: 900; font-size: 20px; color: red;">Eroare</h5>
							<p style="font-size: 15px; color: black; margin-top: 5px;">
								Fonduri insuficiente pentru aceasta comanda. <a
									th:href="@{/wallet}" style="color: green; font-weight: 800;">Adauga
									bani</a>
							</p>
						</div>
						<div style="float: right; display: none;">
							<span class="closebtn"
								onclick="this.parentElement.style.display='none';">×</span>
						</div>
					</div>
					<div th:unless="${#lists.size(products)}">
						<div style="text-align: center;">
							<span style="font-size: 300px; font-weight: 900; color: white;">0</span>
							<br> <span
								style="font-size: 100px; color: white; position: relative; top: -100px;">produse
								selectate</span>
						</div>
					</div>
					<div th:if="${#lists.size(products)}">
						<div class="container-fluid">
							<div class="row">
								<div class="wrap cf">
									<div
										style="text-align: center; font-size: 60px; margin-top: 30px; margin-bottom: 30px; color: white; font-weight: 700;">
										Cos Cumparaturi</div>
									<div class="cart">
										<ul class="cartWrap effect5"
											style="border-radius: 30px; background-color: white; margin-bottom: 30px;"
											th:each="product, iterStat : ${products}">
											<li class="items odd">

												<div class="infoWrap">
													<div class="cartSection">
														<th:block th:if="${product.type == 'Dieta'}">
															<img style="height: 160px;"
																th:src="@{'images/plans/diets/diet'+${iterStat.index + 2}+'.jpg'}"
																onerror="this.src='/images/di.png';this.onerror='';"
																alt="" class="itemImg" />
														</th:block>
														<th:block
															th:if="${product.type == 'Antrenament' and product.forWho.getGender() eq 'Barbat'}">
															<img style="height: 160px;"
																th:src="@{'images/plans/trainings/man/man_training'+${iterStat.index + 2}+'.jpg'}"
																onerror="this.src='/images/di.png';this.onerror='';"
																alt="" class="itemImg" />
														</th:block>
														<th:block
															th:if="${product.type == 'Dieta' and product.forWho.getGender() eq 'Femeie'}">
															<img style="height: 160px;"
																th:src="@{'images/plans/trainings/woman/woman_training'+${iterStat.index + 2}+'.jpg'}"
																onerror="this.src='/images/di.png';this.onerror='';"
																alt="" class="itemImg" />
														</th:block>
														<th:block th:if="${product.productName == 'Bratara'}">
															<img style="height: 160px;"
																th:src="@{'images/devices/band/'+${product.imageName}}"
																onerror="this.src='/images/di.png';this.onerror='';"
																alt="" class="itemImg" />
														</th:block>
														<th:block
															th:if="${product.productName == 'Cantar Inteligent'}">
															<img style="height: 160px;"
																th:src="@{'images/devices/scale/'+${product.imageName}}"
																onerror="this.src='/images/di.png';this.onerror='';"
																alt="" class="itemImg" />
														</th:block>
													</div>
													<div class="prodTotal cartSection">
														<p style="color: black;" th:text="${product.productName}"></p>
													</div>
													<div class="prodTotal cartSection"
														style="margin-top: -5px;">
														<p
															style="color: gray; font-size: 12px; letter-spacing: 2px;"
															th:text="${product.forWho}"
															th:if="${product.type == 'Antrenament' or product.type == 'Dieta'}"></p>
													</div>
													<div class="prodTotal cartSection"
														style="margin-top: -5px;">
														<p
															style="color: gray; font-size: 12px; letter-spacing: 2px;"
															th:text="${product.companyName}"
															th:if="${product.type == 'Dispozitiv'}"></p>
													</div>
													<div class="prodTotal cartSection"
														style="margin-top: 10px;">
														<p style="color: black;"
															th:text="${product.price + ' LEI'}"></p>
													</div>
													<div class="cartSection removeWrap"
														style="display: flex; align-items: center; justify-content: center;">
														<form th:action="@{/delete_product_from_shopping_cart}"
															method="post">
															<input type="hidden" name="userId"
																th:value="${user.accountId}" /> <input type="hidden"
																name="productId" th:value="${product.productId}" /> <input
																type="hidden" name="productName"
																th:value="${product.productName}" />
															<button type="submit" class="btnn2"
																style="padding: 1px 15px; margin-top: 10px;">Sterge</button>
														</form>
													</div>
												</div>
											</li>
										</ul>
										<ul
											style="border-radius: 30px; list-style: none; color: black; font-weight: 700; margin-top: 20px; background-color: white; height: 280px; padding: 30px; width: 350px;">
											<li><span class="label" style="font-size: 20px;">Numar
													Produse:</span> <span class="value"
												th:text="${#lists.size(products)}"
												style="color: #7300e6; font-size: 35px;"></span></li>
											<li><span class="label" style="font-size: 20px;">Total:</span>
												<span class="value" th:text="${totalSum + ' LEI'}"
												style="color: #7300e6; font-size: 35px;"></span></li>
											<li><span class="label" style="font-size: 20px;">Sold
													Curent:</span> <span class="value"
												style="color: #7300e6; font-size: 35px;"
												th:text="${user.transaction.availableBalance + ' LEI'}"></span>
											</li>
											<li>
												<form th:action="@{/buy_shopping_cart}" method="post">
													<input type="hidden" name="userId"
														th:value="${user.accountId}" /> <input type="hidden"
														name="totalSum" th:value="${totalSum}" />
													<button type="submit"
														style="margin-top: 10px; padding: 5px 10px;" class="btnn">Cumpara</button>
												</form>
											</li>
										</ul>
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
	<script src="https://code.jquery.com/jquery-3.4.1.min.js"
		integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo="
		crossorigin="anonymous"></script>
	<script
		src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js"></script>
	<script>
	document.querySelectorAll(".button").forEach(button =>
	  button.addEventListener("click", e => {
	    if (!button.classList.contains("delete")) {
	      button.classList.add("delete");

	      setTimeout(() => button.classList.remove("delete"), 2200);
	    }
	    e.preventDefault();
	  })
	);

	</script>
</body>
</html>