<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:th="http://www.thymeleaf.org">
<head>
<title>Admin</title>
<link
	href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css"
	rel="stylesheet" id="bootstrap-css">
<script
	src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"></script>
<script src="https://code.jquery.com/jquery-1.11.1.min.js"></script>
</head>
<body>
	<form style="display:inline;" th:action="@{/view_charts_between_dates}" method="post">
		<input type="hidden" name="chartOption" th:value="${chartOption}"/>
		<input type="hidden" name="userDeviceId" th:value="${userDeviceId}"/>
		<label>Start</label>
		<input type="date" name="startDateInput">
		<label>End</label>
		<input type="date" name="endDateInput">
		<button>Search</button>
		<div class="container-fluid">
		<div class="row">
			<div class="col-md-10 mx-auto">
				<div id="container"></div>
			</div>
		</div>
	</div>
	</form>
	<script src="https://code.jquery.com/jquery-3.4.1.min.js"
		integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo="
		crossorigin="anonymous"></script>
	<script src="https://code.highcharts.com/modules/data.js"></script>
	<script src="http://code.highcharts.com/stock/highstock.js"></script>
	<script src="https://code.highcharts.com/modules/drilldown.js"></script>
	<script src="https://code.highcharts.com/modules/exporting.js"></script>
	<script src="https://code.highcharts.com/modules/export-data.js"></script>
	<script src="https://code.highcharts.com/modules/accessibility.js"></script>
	<script th:inline="javascript">
    $(function(){
    Highcharts.chart('container', {
        chart: {
            type: 'column'
        },
        title: {
            text: [[${chartOption}]]
        },
        scrollbar: {
            enabled: true
        },
        xAxis: {
            categories: [[${chartMap.keySet()}]],
            crosshair: true,
            min: 0,
            max: 10,
        },
        yAxis: {
        },
        tooltip: {
            headerFormat: '<span style="font-size:10px">{point.key}</span><table>',
            pointFormat: '<tr><td style="color:{series.color};padding:0">{series.name}: </td>' +
            '<td style="padding:0"><b>{point.y:.1f} K</b></td></tr>',
            footerFormat: '</table>',
            shared: true,
            useHTML: true
        },
        plotOptions: {
            column: {
                pointPadding: 0.2,
                borderWidth: 0,
                cropThreshold: 1000
            }
        },
        series: [{
            name: 'Valoare',
            data: [[${chartMap.values()}]]

        }]
    });
    });
</script>
</body>
</html>